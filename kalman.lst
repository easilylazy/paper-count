C51 COMPILER V9.00   KALMAN                                                                04/20/2021 17:22:22 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE KALMAN
OBJECT MODULE PLACED IN .\output\kalman.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE src\kalman.c BROWSE DEBUG OBJECTEXTEND PRINT(.\kalman.lst) OBJECT(.\output\
                    -kalman.obj)

line level    source

   1          #include "include/kalman.h"
   2          
   3          float Kn,Pn,Pn_1,Rn,X_n,X_n_1;
   4          void init_filter(){
   5   1              //Kn=0.01;
   6   1              Pn=0.01;
   7   1              Rn=0.01;
   8   1              
   9   1      
  10   1      
  11   1      }
  12          void predict(){
  13   1              X_n_1=X_n;
  14   1              Pn_1=Pn;
  15   1      
  16   1      }
  17          void update(float Z){
  18   1      
  19   1              Kn=Pn/(Pn+Rn);
  20   1              Pn_1=(1-Kn)*Pn;
  21   1          X_n=X_n_1+Kn*(Z-X_n_1);
  22   1      
  23   1      }
  24          float getXn(){
  25   1               return X_n;
  26   1      }
  27          
  28          void test_filter(){
  29   1              float measure[5]={3.3,3.2,3.1,2.8,2.7};
  30   1              int i;
  31   1              init_filter();
  32   1              for(i=0;i<5;i++){
  33   2                      predict();
  34   2                      update(measure[i]);
  35   2      
  36   2              }
  37   1      
  38   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    265    ----
   CONSTANT SIZE    =     20    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     24      26
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
